{"version": 2, "width": 80, "height": 24, "timestamp": 1750018796, "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}}
[0.031637, "o", "\u001b[?2004h\u001b]0;alena@alena-VirtualBox: ~/fast_api2\u0007\u001b[01;32malena@alena-VirtualBox\u001b[00m:\u001b[01;34m~/fast_api2\u001b[00m$ "]
[9.33507, "o", "\u001b[7mcat Dockerfile\u001b[27m"]
[10.613248, "o", "\b\b\b\b\b\b\b\b\b\b\b\b\b\bcat Dockerfile\r\n\u001b[?2004l\r"]
[10.625562, "o", "FROM python:3.11-slim\r\r\n\r\r\nWORKDIR /app\r\r\n\r\r\nCOPY . /app\r\r\n\r\r\nRUN pip install --no-cache-dir -r requirements.txt\r\r\n\r\r\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]"]
[10.62608, "o", "\u001b[?2004h"]
[10.626196, "o", "\u001b]0;alena@alena-VirtualBox: ~/fast_api2\u0007\u001b[01;32malena@alena-VirtualBox\u001b[00m:\u001b[01;34m~/fast_api2\u001b[00m$ "]
[17.657198, "o", "\u001b[7mcat docker-compose.yml\u001b[27m"]
[18.475976, "o", "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bcat docker-compose.yml\r\n\u001b[?2004l\r"]
[18.478459, "o", "version: \"3.8\"\r\r\n\r\r\nservices:\r\r\n  web:\r\r\n    build: .\r\r\n    container_name: fastapi_app\r\r\n    ports:\r\r\n      - \"8000:8000\"\r\r\n    depends_on:\r\r\n      - db\r\r\n    env_file:\r\r\n      - .env\r\r\n    restart: always\r\r\n\r\r\n  db:\r\r\n    image: mysql:8\r\r\n    container_name: mysql_db\r\r\n    environment:\r\r\n      MYSQL_ROOT_PASSWORD: root\r\r\n      MYSQL_DATABASE: tasks\r\r\n      MYSQL_USER: user\r\r\n      MYSQL_PASSWORD: password\r\r\n    volumes:\r\r\n      - db_data:/var/lib/mysql\r\r\n    ports:\r\r\n      - \"3306:3306\"\r\r\n    restart: always\r\r\n\r\r\nvolumes:\r\r\n  db_data:\r\r\n"]
[18.47961, "o", "\u001b[?2004h\u001b]0;alena@alena-VirtualBox: ~/fast_api2\u0007\u001b[01;32malena@alena-VirtualBox\u001b[00m:\u001b[01;34m~/fast_api2\u001b[00m$ "]
[29.86569, "o", "\u001b[7mcat .env\u001b[27m"]
[30.472306, "o", "\b\b\b\b\b\b\b\bcat .env\r\n\u001b[?2004l\r"]
[30.476426, "o", "MYSQL_ROOT_PASSWORD=root"]
[30.476768, "o", "\r\n"]
[30.476909, "o", "MYSQL_USER=user"]
[30.47704, "o", "\r\n"]
[30.47717, "o", "MYSQL_PASSWORD=password"]
[30.477689, "o", "\r\nMYSQL_DATABASE=tasks\r\n\u001b[?2004h\u001b]0;alena@alena-VirtualBox: ~/fast_api2\u0007\u001b[01;32malena@alena-VirtualBox\u001b[00m:\u001b[01;34m~/fast_api2\u001b[00m$ "]
[38.896988, "o", "\u001b[7mcat requirements.txt\u001b[27m"]
[39.215736, "o", "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bcat requirements.txt\r\n\u001b[?2004l\r"]
[39.225344, "o", "fastapi\r\nuvicorn\r\nsqlalchemy  \r\npasslib\r\npython-jose\r\npython-multipart\r\npydantic\r\npymysql\r\ncryptography\r\n"]
[39.226687, "o", "\u001b[?2004h\u001b]0;alena@alena-VirtualBox: ~/fast_api2\u0007\u001b[01;32malena@alena-VirtualBox\u001b[00m:\u001b[01;34m~/fast_api2\u001b[00m$ "]
[51.286526, "o", "\u001b[7mdocker-compose build\u001b[27m"]
[51.954331, "o", "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bdocker-compose build\r\n\u001b[?2004l\r"]
[52.372687, "o", "db uses an image, skipping\r\n"]
[52.373672, "o", "Building web\r\n"]
[52.429929, "o", "DEPRECATED: The legacy builder is deprecated and will be removed in a future release."]
[52.43107, "o", "\r\n            Install the buildx component to build images with BuildKit:\r\n            https://docs.docker.com/go/buildx/\r\n\r\n"]
[52.604267, "o", "Sending build context to Docker daemon  131.6kB\r"]
[52.60751, "o", "\r\r\n"]
[52.620393, "o", "Step 1/5 : FROM python:3.11-slim\r\n"]
[52.620468, "o", " ---> be3324b8ee1a"]
[52.620497, "o", "\r\n"]
[52.620546, "o", "Step 2/5 : WORKDIR /app"]
[52.620581, "o", "\r\n"]
[52.647394, "o", " ---> Using cache\r\n ---> 3d6556ecfd2f\r\nStep 3/5 : COPY . /app\r\n"]
[52.700165, "o", " ---> Using cache\r\n ---> 3dfea286c367\r\nStep 4/5 : RUN pip install --no-cache-dir -r requirements.txt\r\n"]
[52.704549, "o", " ---> Using cache\r\n"]
[52.705188, "o", " ---> e394a2c0472f\r\n"]
[52.705537, "o", "Step 5/5 : CMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]"]
[52.705699, "o", "\r\n"]
[52.708396, "o", " ---> Using cache\r\n"]
[52.709332, "o", " ---> cfc1e5d5362e\r\n"]
[52.717615, "o", "Successfully built cfc1e5d5362e\r\n"]
[52.738528, "o", "Successfully tagged fast_api2_web:latest"]
[52.740754, "o", "\r\n"]
[52.905401, "o", "\u001b[?2004h"]
[52.907238, "o", "\u001b]0;alena@alena-VirtualBox: ~/fast_api2\u0007\u001b[01;32malena@alena-VirtualBox\u001b[00m:\u001b[01;34m~/fast_api2\u001b[00m$ "]
[62.104967, "o", "\u001b[7mdocker-compose up\u001b[27m"]
[62.742691, "o", "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bdocker-compose up\r\n\u001b[?2004l\r"]
[63.339328, "o", "\u001b[33mWARNING\u001b[0m: The Docker Engine you're using is running in swarm mode.\r\n\r\n"]
[63.33951, "o", "Compose does not use swarm mode to deploy services to multiple nodes in a swarm. All containers will be scheduled on the current node.\r\n\r\nTo deploy your application across the swarm, use `docker stack deploy`.\r\n\r\n"]
[63.343899, "o", "Creating network \"fast_api2_default\" with the default driver\r\n"]
[63.876664, "o", "Creating mysql_db ... \r\r\n"]
[64.741094, "o", "\u001b[1A\u001b[2K\rCreating mysql_db ... \u001b[32mdone\u001b[0m\r\u001b[1B"]
[64.747659, "o", "Creating fastapi_app ... \r\r\n"]
[65.608685, "o", "\u001b[1A\u001b[2K\rCreating fastapi_app ... \u001b[32mdone\u001b[0m\r"]
[65.60901, "o", "\u001b[1B"]
[65.609613, "o", "Attaching to mysql_db, fastapi_app"]
[65.610731, "o", "\r\n"]
[65.613701, "o", "\u001b[33mmysql_db |\u001b[0m 2025-06-15 20:21:01+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.4.5-1.el9 started.\r\n\u001b[33mmysql_db |\u001b[0m 2025-06-15 20:21:01+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'\r\n\u001b[33mmysql_db |\u001b[0m 2025-06-15 20:21:01+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.4.5-1.el9 started.\r\n"]
[65.999842, "o", "\u001b[33mmysql_db |\u001b[0m '/var/lib/mysql/mysql.sock' -> '/var/run/mysqld/mysqld.sock'"]
[66.00026, "o", "\r\n"]
[66.648579, "o", "\u001b[33mmysql_db |\u001b[0m 2025-06-15T20:21:02.422471Z 0 [System] [MY-015015] [Server] MySQL Server - start.\r\n\u001b[33mmysql_db |\u001b[0m 2025-06-15T20:21:02.979495Z 0 [System] [MY-010116] [Server] /usr/sbin/mysqld (mysqld 8.4.5) starting as process 1\r\n"]
[66.658407, "o", "\u001b[33mmysql_db |\u001b[0m 2025-06-15T20:21:03.025698Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started."]
[66.658872, "o", "\r\n"]
[68.797559, "o", "\u001b[33mmysql_db |\u001b[0m 2025-06-15T20:21:05.160374Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended.\r\n"]
[68.964429, "o", "\u001b[36mfastapi_app |\u001b[0m INFO:     Started server process [1]\r\n"]
[68.965727, "o", "\u001b[36mfastapi_app |\u001b[0m INFO:     Waiting for application startup.\r\n"]
[69.114779, "o", "\u001b[36mfastapi_app |\u001b[0m ERROR:    Traceback (most recent call last):\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/pymysql/connections.py\", line 649, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     sock = socket.create_connection(\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/socket.py\", line 863, in create_connection\r\n\u001b[36mfastapi_app |\u001b[0m     raise exceptions[0]\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/socket.py\", line 848, in create_connection\r\n\u001b[36mfastapi_app |\u001b[0m     sock.connect(sa)\r\n\u001b[36mfastapi_app |\u001b[0m ConnectionRefusedError: [Errno 111] Connection refused\r\n\u001b[36mfastapi_app |\u001b[0m \r\n\u001b[36mfastapi_app |\u001b[0m During handling of the above exception, another exception occurred:\r\n\u001b[36mfastapi_app |\u001b[0m \r\n\u001b[36mfastapi_app |\u001b[0m Traceback (most recent call last):\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\r\n\u001b[36mfastapi_app |"]
[69.115591, "o", "\u001b[0m     self._dbapi_connection = engine.raw_connection()\r\n\u001b[36mfastapi_app |\u001b[0m                              ^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\r\n\u001b[36mfastapi_app |\u001b[0m     return self.pool.connect()\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     return _ConnectionFairy._checkout(self)\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\r\n\u001b[36mfastapi_app |\u001b[0m     fairy = _ConnectionRecord.checkout(pool)\r\n\u001b[36mfastapi_app |\u001b[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\r\n\u001b[36mfastapi_a"]
[69.118858, "o", "pp |\u001b[0m     rec = pool._do_get()\r\n\u001b[36mfastapi_app |\u001b[0m           ^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\r\n\u001b[36mfastapi_app |\u001b[0m     with util.safe_reraise():\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\r\n\u001b[36mfastapi_app |\u001b[0m     raise exc_value.with_traceback(exc_tb)\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\r\n\u001b[36mfastapi_app |\u001b[0m     return self._create_connection()\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\r\n\u001b[36mfastapi_app |\u001b[0m     return _ConnectionRecord(self)\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/po"]
[69.118922, "o", "ol/base.py\", line 675, in __init__\r\n\u001b[36mfastapi_app |\u001b[0m     self.__connect()\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\r\n\u001b[36mfastapi_app |\u001b[0m     with util.safe_reraise():\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\r\n\u001b[36mfastapi_app |\u001b[0m     raise exc_value.with_traceback(exc_tb)\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\r\n\u001b[36mfastapi_app |\u001b[0m     self.dbapi_connection = connection = pool._invoke_creator(self)\r\n\u001b[36mfastapi_app |\u001b[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     return dialect.connect(*cargs, **cparams)\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mf"]
[69.118945, "o", "astapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/pymysql/connections.py\", line 361, in __init__\r\n\u001b[36mfastapi_app |\u001b[0m     self.connect()\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/pymysql/connections.py\", line 716, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     raise exc\r\n\u001b[36mfastapi_app |\u001b[0m pymysql.err.OperationalError: (2003, \"Can't connect to MySQL server on 'db' ([Errno 111] Connection refused)\")\r\n\u001b[36mfastapi_app |\u001b[0m \r\n\u001b[36mfastapi_app |\u001b[0m The above exception was the direct cause of the following exception:\r\n\u001b[36mfastapi_app |\u001b[0m \r\n\u001b[36mfastapi_app |\u001b[0m Traceback (most recent call last):\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/"]
[69.118982, "o", "python3.11/site-packages/starlette/routing.py\", line 692, in lifespan\r\n\u001b[36mfastapi_app |\u001b[0m     async with self.lifespan_context(app) as maybe_state:\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/starlette/routing.py\", line 569, in __aenter__\r\n\u001b[36mfastapi_app |\u001b[0m     await self._router.startup()\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/starlette/routing.py\", line 671, in startup\r\n\u001b[36mfastapi_app |\u001b[0m     handler()\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/app/main.py\", line 172, in startup_event\r\n\u001b[36mfastapi_app |\u001b[0m     create_tables()\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/app/main.py\", line 119, in create_tables\r\n\u001b[36mfastapi_app |\u001b[0m     Base.metadata.create_all(bind=engine)\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py\", line 5924, in create_all\r\n\u001b[36mfastapi_app |\u001b[0m     bind._run_ddl_visitor(\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3247"]
[69.119008, "o", ", in _run_ddl_visitor\r\n\u001b[36mfastapi_app |\u001b[0m     with self.begin() as conn:\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/contextlib.py\", line 137, in __enter__\r\n\u001b[36mfastapi_app |\u001b[0m     return next(self.gen)\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3237, in begin\r\n\u001b[36mfastapi_app |\u001b[0m     with self.connect() as conn:\r\n\u001b[36mfastapi_app |\u001b[0m          ^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     return self._connection_cls(self)\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 147, in __init__\r\n\u001b[36mfastapi_app |\u001b[0m     Connection._handle_dbapi_exception_noconnection(\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalche"]
[69.119037, "o", "my/engine/base.py\", line 2436, in _handle_dbapi_exception_noconnection\r\n\u001b[36mfastapi_app |\u001b[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\r\n\u001b[36mfastapi_app |\u001b[0m     self._dbapi_connection = engine.raw_connection()\r\n\u001b[36mfastapi_app |\u001b[0m                              ^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\r\n\u001b[36mfastapi_app |\u001b[0m     return self.pool.connect()\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     return _ConnectionFairy._checkout(self)\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base."]
[69.119089, "o", "py\", line 1264, in _checkout\r\n\u001b[36mfastapi_app |\u001b[0m     fairy = _ConnectionRecord.checkout(pool)\r\n\u001b[36mfastapi_app |\u001b[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\r\n\u001b[36mfastapi_app |\u001b[0m     rec = pool._do_get()\r\n\u001b[36mfastapi_app |\u001b[0m           ^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\r\n\u001b[36mfastapi_app |\u001b[0m     with util.safe_reraise():\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\r\n\u001b[36mfastapi_app |\u001b[0m     raise exc_value.with_traceback(exc_tb)\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\r\n\u001b[36mfastapi_app |\u001b[0m     return self._create_connection()\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File "]
[69.119108, "o", "\"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\r\n\u001b[36mfastapi_app |\u001b[0m     return _ConnectionRecord(self)\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\r\n\u001b[36mfastapi_app |\u001b[0m     self.__connect()\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\r\n\u001b[36mfastapi_app |\u001b[0m     with util.safe_reraise():\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\r\n\u001b[36mfastapi_app |\u001b[0m     raise exc_value.with_traceback(exc_tb)\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\r\n\u001b[36mfastapi_app |\u001b[0m     self.dbapi_connection = connection = pool._invoke_creator(self)\r\n\u001b[36mfastapi_app |\u001b[0m                                     "]
[69.119125, "o", "     ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     return dialect.connect(*cargs, **cparams)\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\r\n\u001b[36mfastapi_app |\u001b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/pymysql/connections.py\", line 361, in __init__\r\n\u001b[36mfastapi_app |\u001b[0m     self.connect()\r\n\u001b[36mfastapi_app |\u001b[0m   File \"/usr/local/lib/python3.11/site-packages/pymysql/connections.py\", line 716, in connect\r\n\u001b[36mfastapi_app |\u001b[0m     raise exc\r\n\u001b[36mfastapi_app |\u001b[0m sqlalchemy.exc.OperationalError: (pymysql.err.OperationalE"]
[69.119163, "o", "rror) (2003, \"Can't connect to MySQL server on 'db' ([Errno 111] Connection refused)\")\r\n\u001b[36mfastapi_app |\u001b[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)\r\n\u001b[36mfastapi_app |\u001b[0m \r\n"]
[69.128271, "o", "\u001b[36mfastapi_app |\u001b[0m ERROR:    Application startup failed. Exiting.\r\n"]
[70.022543, "o", "\u001b[33mmysql_db |\u001b[0m 2025-06-15T20:21:06.391787Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed.\r\n\u001b[33mmysql_db |\u001b[0m 2025-06-15T20:21:06.391829Z 0 [System] [MY-013602] [Server] Channel mysql_main configured to support TLS. Encrypted connections are now supported for this channel.\r\n"]
[70.057044, "o", "\u001b[33mmysql_db |\u001b[0m 2025-06-15T20:21:06.425154Z 0 [Warning] [MY-011810] [Server] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory."]
[70.057124, "o", "\r\n"]
[70.486599, "o", "\u001b[33mmysql_db |\u001b[0m 2025-06-15T20:21:06.822763Z 0 [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.4.5'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server - GPL.\r\n"]
[70.487731, "o", "\u001b[33mmysql_db |\u001b[0m 2025-06-15T20:21:06.822958Z 0 [System] [MY-011323] [Server] X Plugin ready for connections. Bind-address: '::' port: 33060, socket: /var/run/mysqld/mysqlx.sock\r\n"]
[73.445969, "o", "\u001b[32mfastapi_app |\u001b[0m INFO:     Started server process [1]\r\n\u001b[32mfastapi_app |\u001b[0m INFO:     Waiting for application startup.\r\n"]
[73.53595, "o", "\u001b[32mfastapi_app |\u001b[0m INFO:     Application startup complete.\r\n\u001b[32mfastapi_app |\u001b[0m INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)\r\n"]
[106.655935, "o", "\u001b[32mfastapi_app |\u001b[0m INFO:     172.18.0.1:38580 - \"GET /docs HTTP/1.1\" 200 OK\r\n"]
[111.178333, "o", "\u001b[32mfastapi_app |\u001b[0m INFO:     172.18.0.1:38580 - \"GET /openapi.json HTTP/1.1\" 200 OK\r\n"]
[134.809185, "o", "\u001b[32mfastapi_app |\u001b[0m INFO:     172.18.0.1:44016 - \"POST /users/ HTTP/1.1\" 200 OK"]
[134.809304, "o", "\r\n"]
[148.168289, "o", "\u001b[32mfastapi_app |\u001b[0m INFO:     172.18.0.1:34872 - \"POST /users/ HTTP/1.1\" 400 Bad Request\r\n"]
[224.472314, "o", "^C"]
[224.491955, "o", "Gracefully stopping... (press Ctrl+C again to force)\r\n"]
[224.605244, "o", "Stopping fastapi_app ... \r\r\nStopping mysql_db    ... \r\r\n"]
[228.477054, "o", "\u001b[2A\u001b[2K\rStopping fastapi_app ... \u001b[32mdone\u001b[0m\r\u001b[2B"]
[234.486244, "o", "\u001b[1A\u001b[2K\rStopping mysql_db    ... \u001b[32mdone\u001b[0m\r\u001b[1B"]
[236.646892, "o", "\u001b[?2004h\u001b]0;alena@alena-VirtualBox: ~/fast_api2\u0007\u001b[01;32malena@alena-VirtualBox\u001b[00m:\u001b[01;34m~/fast_api2\u001b[00m$ "]
[238.901838, "o", "e"]
[240.16047, "o", "\b\u001b[K"]
[241.286903, "o", "e"]
[241.601739, "o", "x"]
[241.873693, "o", "i"]
[242.086422, "o", "t"]
[242.369115, "o", "\r\n"]
[242.381856, "o", "\u001b[?2004l\r"]
[242.384961, "o", "exit\r\n"]
